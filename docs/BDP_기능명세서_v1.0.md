# 📋 지능형 공공디자인 통합 진단 플랫폼 기능 명세서 (Functional Specification) v1.0

본 문서는 **BDP Platform**의 사용자 요구사항과 시스템 기능을 상세히 정의한 문서입니다. 기획자, 디자이너, 개발자 간의 기능적 합의를 위한 기준 문서로 활용됩니다.

---

## 1. 개요 (Overview)

### 1.1. 목적
부산시의 공공디자인 및 도시 안전 데이터를 수집, 분석, 시각화하여 사용자가 직관적으로 도시 안전 수준을 진단하고 AI 기반의 개선책을 도출할 수 있도록 함.

### 1.2. 사용자 유형 (User Roles)
1. **일반 시민/사용자 (User)**:
   - 대시보드 열람 (읽기 전용)
   - 챗봇 질의응답
   - 회원가입 및 로그인
2. **관리자/공무원 (Admin)**:
   - 데이터 관리 (향후 확장 예정)
   - 시스템 설정 관리

---

## 2. 상세 기능 요구사항 (Detailed Functional Requirements)

### 2.1. 인증 및 계정 관리 (Authentication)

| ID | 기능명 | 상세 설명 | 입력 데이터 | 출력/결과 |
| :--- | :--- | :--- | :--- | :--- |
| **AUTH-01** | 회원가입 | 이메일 기반 신규 계정 생성 | 이름, 이메일, 비밀번호(확인 포함) | 성공 시 로그인 페이지로 이동 |
| **AUTH-02** | 로그인 | JWT 기반 인증 토큰 발급 | 이메일, 비밀번호 | 대시보드 접근 권한 부여 (Token 저장) |
| **AUTH-03** | 로그아웃 | 로컬 저장소 토큰 삭제 | - | 로그인 페이지로 리다이렉트 |

### 2.2. 통합 대시보드 (Integrated Dashboard)

| ID | 기능명 | 상세 설명 | 입력 데이터 | 출력/결과 |
| :--- | :--- | :--- | :--- | :--- |
| **DASH-01** | 테마 전환 | 다크/라이트 모드 즉시 전환 기능 | 슬라이드 버튼 토글 | 전체 UI 색상 테마 변경 (Dark/Light) |
| **DASH-02** | 종합 진단 점수 | 선택된 지역/연도의 안전 점수 및 등급 표시 | (시스템 데이터) | 게이지 차트(S~C등급), 전년 대비 증감율 |
| **DASH-03** | 필터링 | 데이터 조회 조건 설정 | 연도(2023~2025), 행정구역(구/군), 카테고리(주거, 교통 등) | 대시보드 내 모든 차트/지도 데이터 갱신 |
| **DASH-04** | 필터 초기화 | 모든 선택 조건을 기본값으로 복귀 | '초기화' 버튼 클릭 | 연도: 최신, 지역: 전체, 카테고리: 전체 |

### 2.3. 지도 시각화 (Safety Map)

| ID | 기능명 | 상세 설명 | 입력 데이터 | 출력/결과 |
| :--- | :--- | :--- | :--- | :--- |
| **MAP-01** | 히트맵 렌더링 | 행정구역별 위험도에 따른 색상 구분 표시 | 지역별 안전 점수 | 지도상 구역 색상 오버레이 (빨강~초록) |
| **MAP-02** | 스마트 줌 (Zoom) | 특정 구/군 선택 시 해당 영역으로 카메라 이동 | 사이드바 지역 필터 선택 | 지도가 해당 행정구역 중심으로 확대/이동 |
| **MAP-03** | 세부 정보 팝업 | 지도상의 마커/구역 클릭 시 요약 정보 제공 | 마커 클릭 이벤트 | 툴팁/팝업 형태의 지역명 및 점수 표시 |
| **MAP-04** | 전체화면 모드 | 지도를 화면 전체로 확대 | 전체화면 아이콘 클릭 | 지도 컨테이너가 브라우저 전체 영역 점유 |

### 2.4. AI 안전 어시스턴트 (AI Assistant)

| ID | 기능명 | 상세 설명 | 입력 데이터 | 출력/결과 |
| :--- | :--- | :--- | :--- | :--- |
| **AI-01** | 컨텍스트 기반 대화 | 현재 보고 있는 대시보드 상황을 인식하여 답변 | 사용자 질문 텍스트 + (현재 지역, 점수 Context) | AI 답변 텍스트 (스트리밍 또는 단건 응답) |
| **AI-02** | 자동 인사이트 | 사용자가 묻지 않아도 위험 요소를 분석해 표시 | (시스템 데이터) | 'AI 인사이트 패널'에 주요 이슈 자동 나열 |
| **AI-03** | 답변 로딩 상태 | 응답 생성 중임을 시각적으로 안내 | - | '분석 중...' 애니메이션 표시 |

### 2.5. 데이터 분석 (Analytics)

| ID | 기능명 | 상세 설명 | 입력 데이터 | 출력/결과 |
| :--- | :--- | :--- | :--- | :--- |
| **ANL-01** | 분야별 세부 차트 | 주거, 교통, 환경 등 분야별 점수 비교 | - | 막대 그래프 (Bar Chart) 렌더링 |
| **ANL-02** | 시계열 추세 분석 | 과거 데이터와 현재 데이터 비교 | - | (구현 예정) 선 그래프 또는 증감 수치 표시 |

---

## 3. 비기능 요구사항 (Non-Functional Requirements)

1. **성능 (Performance)**:
   - 대시보드 초기 로딩 2초 이내 완료.
   - 필터 적용 시 0.5초 이내 차트/지도 갱신.
2. **호환성 (Compatibility)**:
   - Chrome, Edge, Safari 최신 브라우저 지원.
   - 1920x1080(FHD) 권장, 반응형 레이아웃 지원.
3. **안정성 (Stability)**:
   - 외부 아이콘 라이브러리 의존성 제거 (Inline SVG 사용)로 렌더링 충돌 방지.
   - API 오류 시 사용자에게 친절한 에러 메시지 표시.

---
**문서 버전**: v1.0
**작성일**: 2025.12.11
**작성자**: BDP 기획팀
